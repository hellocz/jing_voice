<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<include file="public:head" />
<link rel="stylesheet" type="text/css" href="/static/css/default/user.css" />
<link rel="stylesheet" type="text/css" href="/static/css/default/base.css" />
</head>

<body style="background:#f5f5f5">
<include file="public:header" />
<div class="w_gezx_ce"> 
  <div class="w_ger">
    <include file="user:center_left" />
	<div class="w_xxzx personal">
	<div class="setting_box fl">
            <present name="msg"><div class="<if condition="$msg.status eq 1">green_alert<else/>pink_alert</if>">{$msg.info}</div></present>
            <div id="setting_list">
                <div class="settings_title"><span>{:L('address_title')}</span></div>
                <table class="table_list" width="100%">
                    <tr>
                        <th>{:L('consignee')}</th>
                        <th>{:L('mobile')}</th>
                        <th>{:L('address')}</th>
                        <th>{:L('zip')}</th>
                        <th>{:L('operations_manage')}</th>
                    </tr>
                    <volist name="address_list" id="val">
                    <tr>
                        <td align="center">{$val.consignee}</td>
                        <td align="center">{$val.mobile}</td>
                        <td>{$val.address}</td>
                        <td align="center">{$val.zip}</td>
                        <td align="center">
                            <a href="{:U('user/address', array('id'=>$val['id']))}" class="green">{:L('edit')}</a> 
                            <span class="green">|</span> 
                            <a href="{:U('user/address', array('id'=>$val['id'], 'type'=>'del'))}" class="green">{:L('delete')}</a>
                        </td>
                    </tr>
                    </volist>
                </table>
                <div class="settings_title mt25"><span>{:L('add_address')}</span></div>
                <form id="J_address_form" action="{:U('user/address')}" method="post">
                <table class="table_form" width="100%">
                    <tr>
                        <th width="70">{:L('consignee')}：</th>
                        <td><input type="text" id="J_consignee" class="gray_text" name="consignee" value="{$info.consignee}"></td>
                    </tr>
                    <tr>
                        <th>{:L('address')}：</th>
                        <td><input type="text" id="J_address" class="gray_text" name="address" size="50" value="{$info.address}"></td>
                    </tr>
                    <tr>
                        <th>{:L('zip')}：</th>
                        <td><input type="text" class="gray_text" name="zip" size="8" value="{$info.zip}"></td>
                    </tr>
                    <tr>
                        <th>{:L('mobile')}：</th>
                        <td><input type="text" id="J_mobile" class="gray_text" name="mobile" value="{$info.mobile}"></td>
                    </tr>
                    <tr>
                        <th></th>
                        <td><input type="submit" class="btn" value="{:L('ok')}"></td>
                    </tr>
                </table>
                <input type="hidden" name="id" value="{$info.id}">
                </form>
            </div>
        </div>
	</div>	
	</div>
  </div>
<include file="public:footer" />
<script src="/static/js/jquery/plugins/formvalidator.js"></script>
<script>
//语言项目
var lang = {};
lang.please_input = "请输入";lang.username = "用户名";lang.password = "密码";lang.login_title = "用户登陆";lang.share_title = "我要分享";lang.correct_itemurl = "正确的商品地址";lang.join_album = "加入专辑";lang.create_album = "创建新专辑";lang.edit_album = "修改专辑";lang.confirm_del_album = "删除专辑，专辑里所有的图片都会被删除哦！你确定要删除此专辑吗？";lang.title = "标题";lang.card_loading = "正在获取用户信息";lang.confirm_unfollow = "确定要取消关注么？";lang.wait = "请稍后......";lang.user_protocol = "网络服务使用协议";lang.email = "邮件地址";lang.email_tip = "请填写正确的常用邮箱，以便找回密码";lang.email_format_error = "邮件格式不正确";lang.email_exists = "电子邮件地址已经被使用";lang.username_tip = "最多20个字符，中文算两个字符";lang.username_exists = "这昵称太热门了，被别人抢走啦，换一个吧";lang.password_tip = "20个字符，数字、字母或者符号";lang.password_too_short = "密码太短啦，至少要6位哦";lang.password_too_long = "密码太长";lang.repassword_tip = "这里要重复输入一次密码";lang.repassword_empty = "请重复输入一次密码";lang.passwords_not_match = "两次输入的密码不一致";lang.captcha_tip = "输入图片中的字符";lang.captcha_empty = "请输入验证码";lang.uploading_cover = "封面上传中，请稍后......";lang.consignee = "收货人";lang.address = "详细地址";lang.mobile = "手机";
//验证
$.formValidator.initConfig({formid:'J_address_form',autotip:true});
$('#J_consignee').formValidator({onshow:' ',onfocus:lang.please_input+lang.consignee, oncorrect: ' '})
.inputValidator({min:1,onerror:lang.please_input+lang.consignee});
$('#J_address').formValidator({onshow:' ',onfocus:lang.please_input+lang.address, oncorrect: ' '})
.inputValidator({min:1,onerror:lang.please_input+lang.address});
$('#J_mobile').formValidator({onshow:' ',onfocus:lang.please_input+lang.mobile, oncorrect: ' '})
.inputValidator({min:1,onerror:lang.please_input+lang.mobile});
</script>
</body>
</html>
